<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Keyboard Touch Gamepad</title>
    <link rel="stylesheet" type="text/css" href="simple.css">
    <script type="text/javascript" src="ktg.js"></script>
    <script type="text/javascript">
      // Variables to store the player's position
      var playerX = 50;
      var playerY = 50;

      function updatePlayerPosition() {
        // Update the player's position on the screen
        var playerElement = document.getElementById('player');
        playerElement.style.left = playerX + 'px';
        playerElement.style.top = playerY + 'px';
      }

      function handleKeyPress(e) {
        // Move the player based on the key pressed
        switch(e.detail) {
          case 'LEFT':
            playerX -= 10;
            break;
          case 'UP':
            playerY -= 10;
            break;
          case 'RIGHT':
            playerX += 10;
            break;
          case 'DOWN':
            playerY += 10;
            break;
        }
        updatePlayerPosition();
      }

      function onbodyload(){
        ktg.setup()
        window.addEventListener('ktg_KeyPressed', handleKeyPress,false);

        // Display the keyboard map
        document.getElementById('writer').innerHTML = ktg.getPrintableKeyboadMap().replace(/\n/g, "<br />") + '<br>';
        
        // Initialize the player's position
        updatePlayerPosition();
      }
    </script>
    <style>
      #player {
        width: 20px;
        height: 20px;
        background-color: red;
        position: absolute;
      }
    </style>
</head>
<body onload='onbodyload()'>
    <header>
        <h1>ktg.js</h1>
        An interface for Keyboard, Touch, and Gamepad input.
    </header>
    <p>Press a key or gamepad button to move the red square.</p>
    <div id='writer'></div>
    <div id="player"></div> <!-- The player element -->
</body>
</html>
